<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: EventMachine::AWS::SQS
  
    &mdash; Documentation by YARD 0.8.2.1
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css" media="screen" charset="utf-8" />

  <link rel="stylesheet" href="../../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '../../';
  framesUrl = "../../frames.html#!" + escape(window.location.href);
</script>


  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="../../_index.html">Index (S)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../EventMachine.html" title="EventMachine (module)">EventMachine</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../AWS.html" title="EventMachine::AWS (module)">AWS</a></span></span>
     &raquo; 
    <span class="title">SQS</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="../../method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="../../file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Class: EventMachine::AWS::SQS
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><span class='object_link'><a href="Service.html" title="EventMachine::AWS::Service (class)">Service</a></span></span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next"><span class='object_link'><a href="Service.html" title="EventMachine::AWS::Service (class)">Service</a></span></li>
          
            <li class="next">EventMachine::AWS::SQS</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
      <dt class="r2">Includes:</dt>
      <dd class="r2"><span class='object_link'><a href="Query.html" title="EventMachine::AWS::Query (module)">Query</a></span></dd>
      
    
  
  
  
    <dt class="r1 last">Defined in:</dt>
    <dd class="r1 last">lib/em-aws/sqs.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>NOTE: If you want to work with an individual queue, be sure to specify either the
:url parameter for the queue URL or the :queue_name.</p>


  </div>
</div>
<div class="tags">
  

</div>
  <h2>Constant Summary</h2>
  
    <dl class="constants">
      
        <dt id="API_VERSION-constant" class="">API_VERSION =
          
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>2011-10-01</span><span class='tstring_end'>'</span></span></pre></dd>
      
    </dl>
  






  <h2>Instance Attribute Summary</h2>
  
  <h3 class="inherited">Attributes included from <span class='object_link'><a href="Query.html" title="EventMachine::AWS::Query (module)">Query</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Query.html#method-instance_method" title="EventMachine::AWS::Query#method (method)">#method</a></span></p>

  
  
  <h3 class="inherited">Attributes inherited from <span class='object_link'><a href="Service.html" title="EventMachine::AWS::Service (class)">Service</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Service.html#aws_access_key_id-instance_method" title="EventMachine::AWS::Service#aws_access_key_id (method)">#aws_access_key_id</a></span>, <span class='object_link'><a href="Service.html#aws_secret_access_key-instance_method" title="EventMachine::AWS::Service#aws_secret_access_key (method)">#aws_secret_access_key</a></span>, <span class='object_link'><a href="Service.html#path-instance_method" title="EventMachine::AWS::Service#path (method)">#path</a></span>, <span class='object_link'><a href="Service.html#region-instance_method" title="EventMachine::AWS::Service#region (method)">#region</a></span>, <span class='object_link'><a href="Service.html#ssl-instance_method" title="EventMachine::AWS::Service#ssl (method)">#ssl</a></span></p>


  
    <h2>
      Class Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create-class_method" title="create (class method)">+ (Object) <strong>create</strong>(name, attributes = {}) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Creates a queue by name and returns an SQS object pointing to it.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get-class_method" title="get (class method)">+ (Object) <strong>get</strong>(name) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Retrieves an SQS object by queue name.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#add_permission-instance_method" title="#add_permission (instance method)">- (Object) <strong>add_permission</strong>(request_params) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Adds one or more permissions on this queue for one or more accounts.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#change_message_visibility-instance_method" title="#change_message_visibility (instance method)">- (Object) <strong>change_message_visibility</strong>(request_params) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Changes the visibility timeout (i.e. the time before a
message that has been received becomes available in the
queue again) for a specific message.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#change_message_visibility_batch-instance_method" title="#change_message_visibility_batch (instance method)">- (Object) <strong>change_message_visibility_batch</strong>(request_params) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Changes the visibility timeout for up to ten messages at once.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create_queue-instance_method" title="#create_queue (instance method)">- (Object) <strong>create_queue</strong>(request_params) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Creates a new queue with the given name, or simply returns
the queue&#39;s URL if the named queue already exists.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#delete_message-instance_method" title="#delete_message (instance method)">- (Object) <strong>delete_message</strong>(request_params) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Removes a message from the queue after it has been received and
processed.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#delete_message_batch-instance_method" title="#delete_message_batch (instance method)">- (Object) <strong>delete_message_batch</strong>(request_params) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Removes up to ten messages from the queue at once.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#queue_name-instance_method" title="#queue_name (instance method)">- (Object) <strong>queue_name</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Query.html" title="EventMachine::AWS::Query (module)">Query</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Query.html#call-instance_method" title="EventMachine::AWS::Query#call (method)">#call</a></span>, <span class='object_link'><a href="Query.html#failure_response-instance_method" title="EventMachine::AWS::Query#failure_response (method)">#failure_response</a></span>, <span class='object_link'><a href="Query.html#included-class_method" title="EventMachine::AWS::Query.included (method)">included</a></span>, <span class='object_link'><a href="Query.html#initialize-instance_method" title="EventMachine::AWS::Query#initialize (method)">#initialize</a></span>, <span class='object_link'><a href="Query.html#success_response-instance_method" title="EventMachine::AWS::Query#success_response (method)">#success_response</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Query/QueryParams.html" title="EventMachine::AWS::Query::QueryParams (module)">Query::QueryParams</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Query/QueryParams.html#queryize_params-instance_method" title="EventMachine::AWS::Query::QueryParams#queryize_params (method)">#queryize_params</a></span></p>

  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="Service.html" title="EventMachine::AWS::Service (class)">Service</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Service.html#initialize-instance_method" title="EventMachine::AWS::Service#initialize (method)">#initialize</a></span>, <span class='object_link'><a href="Service.html#service-instance_method" title="EventMachine::AWS::Service#service (method)">#service</a></span>, <span class='object_link'><a href="Service.html#url-instance_method" title="EventMachine::AWS::Service#url (method)">#url</a></span></p>
<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <p class="notice">This class inherits a constructor from <span class='object_link'><a href="Query.html#initialize-instance_method" title="EventMachine::AWS::Query#initialize (method)">EventMachine::AWS::Query</a></span></p>
  
</div>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="create-class_method">
  
    + (<tt>Object</tt>) <strong>create</strong>(name, attributes = {}) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Creates a queue by name and returns an SQS object pointing to it.  This operation
is idempotent (i.e. will return the same object) if the queue name already exists,
so long as no attributes are different.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


31
32
33
34
35
36
37
38
39</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/em-aws/sqs.rb', line 31</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_create'>create</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_attributes'>attributes</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='id identifier rubyid_creator'>creator</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
  <span class='id identifier rubyid_creator'>creator</span><span class='period'>.</span><span class='id identifier rubyid_create_queue'>create_queue</span><span class='lparen'>(</span><span class='label'>queue_name:</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='label'>attributes:</span> <span class='id identifier rubyid_attributes'>attributes</span><span class='rparen'>)</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_r'>r</span><span class='op'>|</span> <span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='id identifier rubyid_r'>r</span><span class='period'>.</span><span class='id identifier rubyid_queue_url'>queue_url</span><span class='rbrace'>}</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_url'>url</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='label'>url:</span> <span class='id identifier rubyid_url'>url</span>
  <span class='kw'>else</span>
    <span class='kw'>nil</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get-class_method">
  
    + (<tt>Object</tt>) <strong>get</strong>(name) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Retrieves an SQS object by queue name. Returns nil if the queue can&#39;t be found.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


18
19
20
21
22
23
24
25
26</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/em-aws/sqs.rb', line 18</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_get'>get</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='id identifier rubyid_retriever'>retriever</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
  <span class='id identifier rubyid_retriever'>retriever</span><span class='period'>.</span><span class='id identifier rubyid_get_queue_url'>get_queue_url</span><span class='lparen'>(</span><span class='label'>queue_name:</span> <span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_r'>r</span><span class='op'>|</span> <span class='id identifier rubyid_url'>url</span> <span class='op'>=</span> <span class='id identifier rubyid_r'>r</span><span class='period'>.</span><span class='id identifier rubyid_queue_url'>queue_url</span><span class='rbrace'>}</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_url'>url</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='label'>url:</span> <span class='id identifier rubyid_url'>url</span>
  <span class='kw'>else</span>
    <span class='kw'>nil</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="add_permission-instance_method">
  
    - (<tt>Object</tt>) <strong>add_permission</strong>(request_params) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Adds one or more permissions on this queue for one or more accounts.
The permissions that can be added are as follows:</p>

<ul>
<li><code>:all</code> (the &quot;*&quot; wildcard to assign all permissions)</li>
<li><code>:send_message</code></li>
<li><code>:receive_message</code></li>
<li><code>:delete_message</code></li>
<li><code>:change_message_visibility</code></li>
<li><code>:get_queue_attributes</code></li>
<li><code>:get_queue_url</code></li>
</ul>

<p>Because the API for specifying multiple permissions is somewhat roundabout, <strong>EM::AWS</strong>
supports three different use patterns for adding permissions:</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'><p>Specify a single <code>:aws_account_id</code> and a single <code>:action_name</code> param:</p>
</div></p>
      
      <pre class="example code"><span class='id identifier rubyid_sns'>sns</span><span class='period'>.</span><span class='id identifier rubyid_add_permission'>add_permission</span> <span class='label'>topic_arn:</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>arn:aws:sns:us-east-1:12345679012:My-Test-Topic</span><span class='tstring_end'>'</span></span><span class='comma'>,</span>
    <span class='label'>aws_account_id:</span> <span class='int'>123456789012</span><span class='comma'>,</span>
    <span class='label'>action_name:</span> <span class='symbol'>:get_topic_attributes</span></pre>
    
      
        <p class="example_title"><div class='inline'><p>Assign an array for <code>:aws_account_id</code> and a corresponding array for <code>:action_name</code>:</p>
</div></p>
      
      <pre class="example code"><span class='id identifier rubyid_sns'>sns</span><span class='period'>.</span><span class='id identifier rubyid_add_permission'>add_permission</span> <span class='label'>topic_arn:</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>arn:aws:sns:us-east-1:12345679012:My-Test-Topic</span><span class='tstring_end'>'</span></span><span class='comma'>,</span>
    <span class='label'>aws_account_id:</span> <span class='lbracket'>[</span><span class='int'>123456789012</span><span class='comma'>,</span> <span class='int'>123456789012</span><span class='comma'>,</span> <span class='int'>109876543210</span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='label'>action_name:</span> <span class='lbracket'>[</span><span class='symbol'>:subscribe</span><span class='comma'>,</span> <span class='symbol'>:get_topic_attributes</span><span class='comma'>,</span> <span class='symbol'>:subscribe</span><span class='rbracket'>]</span></pre>
    
      
        <p class="example_title"><div class='inline'><p>Specify a <code>:permissions</code> hash where each key is an AWS account ID and each value is a permission or array of permissions:</p>
</div></p>
      
      <pre class="example code"><span class='id identifier rubyid_sns'>sns</span><span class='period'>.</span><span class='id identifier rubyid_add_permission'>add_permission</span> <span class='label'>topic_arn:</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>arn:aws:sns:us-east-1:12345679012:My-Test-Topic</span><span class='tstring_end'>'</span></span><span class='comma'>,</span>
    <span class='label'>permissions:</span> <span class='lbrace'>{</span>
        <span class='int'>123456789012</span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='symbol'>:subscribe</span><span class='comma'>,</span> <span class='symbol'>:get_topic_attributes</span><span class='rbracket'>]</span><span class='comma'>,</span>
        <span class='int'>109876543210</span> <span class='op'>=&gt;</span> <span class='symbol'>:subscribe</span>
    <span class='rbrace'>}</span></pre>
    
  </div>

<p class="tag_title">Request Parameters:</p>
<ul class="request">
  
    <li>
      
        <span class='name'>:label</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>A unique name for the new policy statement</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>:permissions</span>
      
      
        <span class='type'>(<tt>optional</tt>, <tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Shortcut to map account IDs (keys) to one or more actions (values)</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>:aws_account_id</span>
      
      
        <span class='type'>(<tt>optional</tt>, <tt>String</tt>, <tt>Integer</tt>, <tt>Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>An ID or array of IDs for which new permissions should be added. <em>Required if <code>:permissions</code> is not used.</em></p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>:action_name</span>
      
      
        <span class='type'>(<tt>optional</tt>, <tt>String</tt>, <tt>Symbol</tt>, <tt>Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>An action or list of actions to enable for the corresponding ID in <code>:aws_account_id</code>. <em>Required if <code>:permissions</code> is not used.</em></p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/em-aws/sqs.rb', line 77</span>

<span class='id identifier rubyid_action'>action</span> <span class='symbol'>:add_permission</span><span class='comma'>,</span> <span class='label'>filter_params:</span> <span class='tlambda'>-&gt;</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='rparen'>)</span><span class='tlambeg'>{</span>
  <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:aws_account_id</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='const'>Array</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:aws_account_id</span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:action_name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='const'>Array</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:action_name</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_action'>action</span><span class='op'>|</span> <span class='id identifier rubyid_camelcase'>camelcase</span><span class='lparen'>(</span><span class='id identifier rubyid_action'>action</span><span class='rparen'>)</span><span class='rbrace'>}</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_permissions'>permissions</span> <span class='op'>=</span> <span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='symbol'>:permissions</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_permissions'>permissions</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_account'>account</span><span class='comma'>,</span> <span class='id identifier rubyid_actions'>actions</span><span class='op'>|</span>
      <span class='const'>Array</span><span class='lparen'>(</span><span class='id identifier rubyid_actions'>actions</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_action'>action</span><span class='op'>|</span>
        <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:aws_account_id</span><span class='rbracket'>]</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_account'>account</span>
        <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:action_name</span><span class='rbracket'>]</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_camelcase'>camelcase</span><span class='lparen'>(</span><span class='id identifier rubyid_action'>action</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>AWSAccountId</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span> <span class='symbol'>:aws_account_id</span>
  <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ActionName</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span> <span class='symbol'>:action_name</span>
<span class='rbrace'>}</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="change_message_visibility-instance_method">
  
    - (<tt>Object</tt>) <strong>change_message_visibility</strong>(request_params) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Changes the visibility timeout (i.e. the time before a
message that has been received becomes available in the
queue again) for a specific message.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Request Parameters:</p>
<ul class="request">
  
    <li>
      
        <span class='name'>:receipt_handle</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The receipt handle for the message as returned by the #receive_message action</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>:visibility_timeout</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The new timeout value, from 0 to 43200 seconds (12 hours)</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


101</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/em-aws/sqs.rb', line 101</span>

<span class='id identifier rubyid_action'>action</span> <span class='symbol'>:change_message_visibility</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="change_message_visibility_batch-instance_method">
  
    - (<tt>Object</tt>) <strong>change_message_visibility_batch</strong>(request_params) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Changes the visibility timeout for up to ten messages at once.
Takes one <code>:messages</code> parameter which must be an array of
hashes; each hash must have the <code>:id</code>, <code>:receipt_handle</code> and
<code>:visibility_timeout</code> keys as documented below.</p>


  </div>
</div>
<div class="tags">
  
  
    
    

<p class="tag_title">Request Parameters:</p>
<ul class="request">
  
    <li>
      
        <span class='name'>:messages</span>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Array of hashes specifying new timeout values (max 10)</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


113
114
115
116
117
118
119
120
121</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/em-aws/sqs.rb', line 113</span>

<span class='id identifier rubyid_action'>action</span> <span class='symbol'>:change_message_visibility_batch</span><span class='comma'>,</span> <span class='label'>filter_params:</span> <span class='tlambda'>-&gt;</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='rparen'>)</span><span class='tlambeg'>{</span>
  <span class='id identifier rubyid_messages'>messages</span> <span class='op'>=</span> <span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span> <span class='symbol'>:messages</span>
  <span class='int'>1</span><span class='period'>.</span><span class='id identifier rubyid_upto'>upto</span><span class='lparen'>(</span><span class='id identifier rubyid_messages'>messages</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_index'>index</span><span class='op'>|</span>
    <span class='id identifier rubyid_message'>message</span> <span class='op'>=</span> <span class='id identifier rubyid_messages'>messages</span><span class='period'>.</span><span class='id identifier rubyid_shift'>shift</span>
    <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ChangeMessageVisibilityBatchRequestEntry.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_index'>index</span><span class='rbrace'>}</span><span class='tstring_content'>.Id</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_message'>message</span><span class='lbracket'>[</span><span class='symbol'>:id</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ChangeMessageVisibilityBatchRequestEntry.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_index'>index</span><span class='rbrace'>}</span><span class='tstring_content'>.ReceiptHandle</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_message'>message</span><span class='lbracket'>[</span><span class='symbol'>:receipt_handle</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ChangeMessageVisibilityBatchRequestEntry.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_index'>index</span><span class='rbrace'>}</span><span class='tstring_content'>.VisibilityTimeout</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_message'>message</span><span class='lbracket'>[</span><span class='symbol'>:visibility_timeout</span><span class='rbracket'>]</span>
  <span class='kw'>end</span>
<span class='rbrace'>}</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="create_queue-instance_method">
  
    - (<tt>Object</tt>) <strong>create_queue</strong>(request_params) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'><p>It&#39;s generally simpler to use the SQS.create</p>
</div>
  </div>

<p>Creates a new queue with the given name, or simply returns
the queue&#39;s URL if the named queue already exists. Set
attributes with the <code>:attributes</code> parameter.</p>

<p>class method, which calls this action and returns a
new SQS object pointing to the queue URL.</p>


  </div>
</div>
<div class="tags">
  
  
    
    

<p class="tag_title">Request Parameters:</p>
<ul class="request">
  
    <li>
      
        <span class='name'>:queue_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The queue to be created (maximum 80 character; only alphanumerics, &#39;_&#39;, and &#39;-&#39;)</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>:attributes</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Additional options to set for the queue; see below</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Response Attributes:</p>
<ul class="response">
  
    <li>
      
        <span class='name'>:queue_url</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The URL for the created queue</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


140</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/em-aws/sqs.rb', line 140</span>

<span class='id identifier rubyid_action'>action</span> <span class='symbol'>:create_queue</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="delete_message-instance_method">
  
    - (<tt>Object</tt>) <strong>delete_message</strong>(request_params) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Removes a message from the queue after it has been received and
processed. The receipt handle from the #receive<em>message call must
be used, _not</em> the message ID from creation.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Request Parameters:</p>
<ul class="request">
  
    <li>
      
        <span class='name'>:receipt_handle</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The receipt handle for the message as returned by the #receive_message action</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


148</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/em-aws/sqs.rb', line 148</span>

<span class='id identifier rubyid_action'>action</span> <span class='symbol'>:delete_message</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="delete_message_batch-instance_method">
  
    - (<tt>Object</tt>) <strong>delete_message_batch</strong>(request_params) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Removes up to ten messages from the queue at once.
Takes one <code>:messages</code> parameter which must be an array of
hashes; each hash must have the <code>:id</code> and <code>:receipt_handle</code>
keys as documented below.</p>


  </div>
</div>
<div class="tags">
  
  
    
    

<p class="tag_title">Request Parameters:</p>
<ul class="request">
  
    <li>
      
        <span class='name'>:messages</span>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Array of hashes specifying new timeout values (max 10)</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


159
160
161
162
163
164
165
166</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/em-aws/sqs.rb', line 159</span>

<span class='id identifier rubyid_action'>action</span> <span class='symbol'>:delete_message_batch</span><span class='comma'>,</span> <span class='label'>filter_params:</span> <span class='tlambda'>-&gt;</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='rparen'>)</span><span class='tlambeg'>{</span>
  <span class='id identifier rubyid_messages'>messages</span> <span class='op'>=</span> <span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span> <span class='symbol'>:messages</span>
  <span class='int'>1</span><span class='period'>.</span><span class='id identifier rubyid_upto'>upto</span><span class='lparen'>(</span><span class='id identifier rubyid_messages'>messages</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_index'>index</span><span class='op'>|</span>
    <span class='id identifier rubyid_message'>message</span> <span class='op'>=</span> <span class='id identifier rubyid_messages'>messages</span><span class='period'>.</span><span class='id identifier rubyid_shift'>shift</span>
    <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DeleteMessageBatchRequestEntry.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_index'>index</span><span class='rbrace'>}</span><span class='tstring_content'>.Id</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_message'>message</span><span class='lbracket'>[</span><span class='symbol'>:id</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DeleteMessageBatchRequestEntry.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_index'>index</span><span class='rbrace'>}</span><span class='tstring_content'>.ReceiptHandle</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_message'>message</span><span class='lbracket'>[</span><span class='symbol'>:receipt_handle</span><span class='rbracket'>]</span>
  <span class='kw'>end</span>
<span class='rbrace'>}</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="queue_name-instance_method">
  
    - (<tt>Object</tt>) <strong>queue_name</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


13
14
15</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/em-aws/sqs.rb', line 13</span>

<span class='kw'>def</span> <span class='id identifier rubyid_queue_name'>queue_name</span>
  <span class='id identifier rubyid_url'>url</span><span class='lbracket'>[</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>https?:\/\/.*?\/(.+)</span><span class='regexp_end'>/</span></span><span class='comma'>,</span><span class='int'>1</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Sat Jul 21 14:46:18 2012 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.2.1 (ruby-1.9.3).
</div>

  </body>
</html>